<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:fragment="headFragment">
    <script th:src="@{/js/theme_init.js}"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title} ?: '리버스 - Rebirth & Reverse'">리버스 - Rebirth & Reverse</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" th:href="@{/images/favicon.svg}">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&family=Noto+Sans+KR:wght@100..900&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Main CSS -->
    <link rel="stylesheet" th:href="@{/css/main.css(v='1.4')}">

    <!-- Tailwind Config -->
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#8B5CF6",
                        "primary-light": "#A78BFA",
                        "secondary": "#C4B5FD",
                        "background-light": "#F5F3FF",
                        "background-dark": "#1e1b2f",
                        "text-light": "#1F2937",
                        "text-dark": "#E5E7EB",
                        "card-light": "#FFFFFF",
                        "card-dark": "#2a263f",
                        "border-light": "#E5E7EB",
                        "border-dark": "#403a59",
                    },
                    fontFamily: {
                        "display": ["Noto Sans KR", "Space Grotesk", "sans-serif"]
                    },
                },
            },
        }
    </script>

    <!-- Three.js Import Map -->
    <!-- 중요: GLTFLoader를 동적 로드하기 위해 three/addons 경로 매핑 필수 -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.170.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.170.0/examples/jsm/"
            }
        }
    </script>
</head>

</html>