<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/head :: headFragment}"></head>

<body
    class="font-display bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark min-h-screen flex flex-col">

    <!-- Header -->
    <header th:replace="~{fragments/header :: headerFragment}"></header>

    <!-- Main Content -->
    <main class="flex-grow flex items-center justify-center py-24 px-4">
        <div class="w-full max-w-md animate-fade-in-up">

            <div
                class="bg-card-light dark:bg-card-dark rounded-3xl p-8 border border-border-light dark:border-border-dark shadow-xl relative overflow-hidden">
                <!-- Decorative Background -->
                <div
                    class="absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2">
                </div>

                <!-- Logo & Title -->
                <div class="text-center mb-8 relative">
                    <div class="inline-flex items-center gap-2 mb-2">
                        <div class="size-8 text-primary">
                            <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_6_319)">
                                    <path
                                        d="M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z"
                                        fill="currentColor"></path>
                                    <path d="M24 2.19043L39.4217 17.6121L24 33.0338L8.57829 17.6121L24 2.19043Z"
                                        stroke="currentColor" stroke-width="3"></path>
                                </g>
                                <defs>
                                    <clipPath id="clip0_6_319">
                                        <rect fill="white" height="48" width="48"></rect>
                                    </clipPath>
                                </defs>
                            </svg>
                        </div>
                        <span class="font-display font-bold text-xl">Re:birth</span>
                    </div>
                    <h1 class="text-2xl font-bold">다시 오신 것을 환영합니다!</h1>
                    <p class="text-text-light/60 dark:text-text-dark/60 text-sm mt-1">로그인하고 지속 가능한 패션 라이프를 즐겨보세요.</p>
                </div>

                <!-- Error Message -->
                <div th:if="${errorMessage}"
                    class="mb-6 p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 flex items-center gap-3 text-red-600 dark:text-red-400 animate-shake">
                    <span class="material-symbols-outlined text-xl">error</span>
                    <span class="text-sm font-bold" th:text="${errorMessage}"></span>
                </div>

                <!-- Login Form -->
                <form class="space-y-4 relative" action="/auth/login" method="post">
                    <div class="space-y-1">
                        <label for="username"
                            class="text-xs font-bold text-text-light/50 dark:text-text-dark/50 ml-1">이메일 또는 아이디</label>
                        <input type="text" id="username" name="username" placeholder="이메일 또는 아이디를 입력하세요"
                            class="w-full h-12 px-4 rounded-xl bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark focus:ring-2 focus:ring-primary/50 outline-none transition-all">
                    </div>

                    <div class="space-y-1">
                        <div class="flex justify-between items-center ml-1">
                            <label for="password"
                                class="text-xs font-bold text-text-light/50 dark:text-text-dark/50">비밀번호</label>
                            <a href="/auth/forgot-password" class="text-xs font-bold text-primary hover:underline">비밀번호를
                                잊으셨나요?</a>
                        </div>
                        <input type="password" id="password" name="password" placeholder="••••••••"
                            class="w-full h-12 px-4 rounded-xl bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark focus:ring-2 focus:ring-primary/50 outline-none transition-all">
                    </div>

                    <button type="submit"
                        class="w-full h-12 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/30 hover:bg-primary/90 transition-all hover:scale-[1.02] active:scale-95">
                        로그인
                    </button>
                </form>

                <!-- Social Login -->
                <div class="mt-8 relative">
                    <div class="relative flex justify-center text-sm items-center mb-4">
                        <div class="h-px bg-border-light dark:bg-border-dark w-full absolute"></div>
                        <span
                            class="bg-card-light dark:bg-card-dark px-2 text-text-light/40 dark:text-text-dark/40 relative z-10 font-bold text-xs">또는
                            소셜 로그인</span>
                    </div>

                    <div class="flex gap-4 justify-center">
                        <a href="/oauth2/authorization/kakao"
                            class="size-12 rounded-full overflow-hidden hover:scale-110 transition-transform shadow-sm"
                            title="카카오 로그인">
                            <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                <rect width="48" height="48" fill="#FEE500" />
                                <path
                                    d="M24 11C15.163 11 8 16.92 8 24.22c0 4.88 3.19 9.16 8.05 11.51-.35 1.28-1.26 4.63-1.32 4.85-.05.38.15.76.48.92.32.16.69.13.99-.1.35-.26 3.96-2.69 5.48-3.73 1.04.15 2.11.23 3.2.23 8.837 0 16-5.92 16-13.22S32.837 11 24 11z"
                                    fill="#3C1E1E" />
                            </svg>
                        </a>
                        <a href="/oauth2/authorization/naver"
                            class="size-12 rounded-full overflow-hidden hover:scale-110 transition-transform shadow-sm"
                            title="네이버 로그인">
                            <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                <rect width="48" height="48" fill="#03C75A" />
                                <path d="M30.46 22.23L19.62 6H9v36h10.69V17.77L31.54 34H41V6h-10.54z" fill="#FFFFFF"
                                    transform="scale(0.7) translate(10 10)" />
                            </svg>
                        </a>
                        <a href="/oauth2/authorization/google"
                            class="size-12 rounded-full overflow-hidden border border-border-light hover:scale-110 transition-transform shadow-sm bg-white"
                            title="구글 로그인">
                            <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                <path fill="#EA4335"
                                    d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z" />
                                <path fill="#4285F4"
                                    d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z" />
                                <path fill="#FBBC05"
                                    d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z" />
                                <path fill="#34A853"
                                    d="M24 48c6.48 0 11.95-2.09 15.81-5.656l-7.73-6c-2.15 1.45-4.92 2.3-8.08 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z" />
                            </svg>
                        </a>
                    </div>
                </div>

                <!-- Join Link -->
                <div class="mt-8 text-center text-sm">
                    <span class="text-text-light/60 dark:text-text-dark/60">아직 계정이 없으신가요?</span>
                    <a href="/auth/join" class="font-bold text-primary hover:underline ml-1">회원가입</a>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer th:replace="~{fragments/footer :: footerFragment}"></footer>
</body>

</html>